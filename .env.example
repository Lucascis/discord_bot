# Discord Bot Configuration
# Create a bot via https://discord.com/developers/applications
# Make sure to enable the "Message Content Intent" in the bot settings

# Required: Discord Bot Credentials
DISCORD_TOKEN=your-bot-token
DISCORD_APPLICATION_ID=your-application-id

# Optional: For faster command updates in development (guild-specific commands)
# DISCORD_GUILD_ID=your-dev-guild-id

# Required: Database Configuration
# For Docker: Use service name 'postgres' as host
# For local development: Use 'localhost'
DATABASE_URL=postgresql://postgres:postgres@postgres:5432/discord

# Required: Redis Configuration
# For Docker: Use service name 'redis' as host
# For local development: Use 'localhost'
REDIS_URL=redis://redis:6379

# Alternative: Redis connection via separate host/port (instead of REDIS_URL)
# REDIS_HOST=localhost
# REDIS_PORT=6379

# Required: Lavalink Configuration
# For Docker: Use service name 'lavalink' as host
# For local development: Use 'localhost'
LAVALINK_HOST=lavalink
LAVALINK_PORT=2333
LAVALINK_PASSWORD=youshallnotpass

# Service HTTP Ports (for health checks and metrics)
GATEWAY_HTTP_PORT=3001
AUDIO_HTTP_PORT=3002
WORKER_HTTP_PORT=3003

# Optional: Performance Monitoring
# ENABLE_PERFORMANCE_MONITORING=false

# Node Environment
NODE_ENV=development

# Discord Role Configuration
DJ_ROLE_NAME=DJ

# UI/UX Configuration
# Interval for live Now Playing updates (ms). Reasonable range: 1000-60000
# Higher values (10000+) reduce CPU load and prevent audio stuttering
NOWPLAYING_UPDATE_MS=10000

# Command Configuration
# Cleanup all commands on bot startup
COMMANDS_CLEANUP_ON_START=false

# Command registration scope: global | guild | both
# global = commands available everywhere (takes ~1 hour to propagate)
# guild = commands only in DISCORD_GUILD_ID (instant updates, good for dev)
# both = register in both scopes
COMMANDS_SCOPE=global

# Payment Configuration
# Payment provider: stripe | mercadopago
PAYMENT_PROVIDER=stripe

# Stripe Configuration (required if PAYMENT_PROVIDER=stripe)
# Get API keys from https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Mercado Pago Configuration (required if PAYMENT_PROVIDER=mercadopago)
# Get access token from https://www.mercadopago.com/developers
# MERCADOPAGO_ACCESS_TOKEN=your_mercadopago_access_token
# MERCADOPAGO_WEBHOOK_SECRET=your_mercadopago_webhook_secret

# Optional: Music Sources Configuration
# Spotify (Create app at https://developer.spotify.com/dashboard)
# SPOTIFY_CLIENT_ID=your-spotify-client-id
# SPOTIFY_CLIENT_SECRET=your-spotify-client-secret

# Deezer (Optional - requires ARL cookie)
# Log in on https://www.deezer.com, export cookie `arl`
# DEEZER_ARL=your-deezer-arl-cookie

# Apple Music (Optional - requires Media API token)
# See docs/SETUP.md for how to generate
# APPLE_MUSIC_MEDIA_TOKEN=your-apple-music-media-token

# Optional: YouTube Enhanced Compatibility (Advanced Users Only)
# IMPORTANT: These tokens help bypass YouTube's "This video requires login" errors
#
# Option 1: poToken + visitorData (RECOMMENDED - No account risk)
# Generate using: npm install -g youtube-po-token-generator && youtube-po-token-generator
# OR extract from browser: Open YouTube Music → F12 → Network → Filter "player" → Find serviceIntegrityDimensions
# Tokens expire after 12-24 hours and need regeneration
# YOUTUBE_PO_TOKEN=your-youtube-po-token
# YOUTUBE_VISITOR_DATA=your-youtube-visitor-data
#
# Option 2: OAuth Refresh Token (RISKY - Use burner accounts only!)
# WARNING: Risk of account termination. Only use with disposable YouTube accounts.
# Follow Lavalink logs for OAuth URL when enabled in application.yml
# YOUTUBE_REFRESH_TOKEN=your-youtube-refresh-token

# Optional: Observability & Monitoring
# OpenTelemetry
# OTEL_EXPORTER_OTLP_ENDPOINT=http://otel-collector:4318/v1/traces

# Sentry Error Monitoring
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
# SENTRY_ENVIRONMENT=development
# SENTRY_TRACES_SAMPLE_RATE=0.1
# SENTRY_PROFILES_SAMPLE_RATE=0.1

# Logging Configuration
# LOG_LEVEL=info

# Optional: API Configuration
# Port for API service (only needed for non-Docker deployments)
# PORT=3000

# API key for endpoint authentication
# API_KEY=your-api-key-for-rest-endpoints

# Optional: Rate Limiting Configuration (API service)
# Window in milliseconds (default: 900000 = 15 minutes)
# RATE_LIMIT_WINDOW_MS=900000
# Strict route window in milliseconds (default: 900000)
# RATE_LIMIT_STRICT_WINDOW_MS=900000
# Strict limit for sensitive endpoints (default: 20)
# RATE_LIMIT_STRICT_MAX=20
# Force in-memory limiter when Redis is not available (development/tests)
# API_RATE_LIMIT_IN_MEMORY=false

# Optional: Premium Test Guilds
# Comma-separated list of Discord guild IDs that automatically receive ENTERPRISE tier
# Test guilds are auto-provisioned with full access to all premium features
# Useful for development, testing, and demo purposes
# Example: PREMIUM_TEST_GUILD_IDS=123456789012345678,987654321098765432
# PREMIUM_TEST_GUILD_IDS=

# Optional: CORS Configuration (for API service)
# Comma-separated list of allowed origins
# ALLOWED_ORIGINS=http://localhost:3000,https://yourdomain.com

# Optional: Webhook Security (for API service)
# WEBHOOK_SECRET=your-webhook-secret
