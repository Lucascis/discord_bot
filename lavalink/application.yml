server:
  port: 2333

lavalink:
  server:
    password: "youshallnotpass"
    # Disable built-in YouTube source to use plugin
    sources:
      youtube: false
      soundcloud: true
      http: true
      local: false
      bandcamp: true
      vimeo: true
    filters:
      volume: true
      equalizer: true
      karaoke: true
      timescale: true
      tremolo: true
      vibrato: true
      rotation: true
      distortion: true
      channelMix: true
      lowPass: true
    # Optimized performance settings
    bufferDurationMs: 400
    frameBufferDurationMs: 5000
    opusEncodingQuality: 10
    resamplingQuality: HIGH
    trackStuckThresholdMs: 10000
    useSeekGhosting: true
    playerUpdateInterval: 5
    youtubePlaylistLoadLimit: 100
    soundcloudSearchEnabled: true
    gc-warnings: true

  # Plugin loading configuration
  plugins:
    - dependency: "dev.lavalink.youtube:youtube-plugin:1.13.5"
      repository: "https://maven.lavalink.dev/releases"
    - dependency: "com.github.topi314.lavasrc:lavasrc-plugin:4.8.1"
      repository: "https://maven.lavalink.dev/releases"
    - dependency: "com.github.topi314.lavasearch:lavasearch-plugin:1.0.0"
      repository: "https://maven.lavalink.dev/releases"
    - dependency: "com.github.topi314.sponsorblock:sponsorblock-plugin:3.0.1"
      repository: "https://maven.lavalink.dev/releases"

# Plugin-specific configuration
plugins:
  youtube:
    enabled: true
    allowSearch: true
    allowDirectVideoIds: true
    allowDirectPlaylistIds: true
    # Optimized client order for maximum compatibility and bypass capabilities
    clients:
      - MUSIC
      - ANDROID_VR
      - WEB
      - WEBEMBEDDED
      - TV_EMBEDDED
    clientOptions:
      # YouTube Music client - best for music content and restricted videos
      MUSIC:
        playback: true
        videoLoading: true
        playlistLoading: true
        searching: true
      # Android VR client - good for bypassing restrictions  
      ANDROID_VR:
        playback: true
        videoLoading: true
        playlistLoading: true
        searching: true
      # Web client - standard fallback
      WEB:
        playback: true
        videoLoading: true
        playlistLoading: true
        searching: true
      # Web embedded - often bypasses restrictions
      WEBEMBEDDED:
        playback: true
        videoLoading: true
        playlistLoading: true
        searching: true
      # TV embedded - additional bypass option
      TV_EMBEDDED:
        playback: true
        videoLoading: true
        playlistLoading: false
        searching: false
    # Additional performance settings
    playlistLoadLimit: 100
    videoLoadLimit: 100
    maxRetryAttempts: 3
    retryDelayMs: 1000
    # Enhanced token management for better reliability
    oauth:
      enabled: false
      refreshToken: ${YOUTUBE_REFRESH_TOKEN:}
    # PoToken for enhanced compatibility (obtained from browser)
    poToken: ${YOUTUBE_PO_TOKEN:}
  lavasrc:
    # Enhanced providers with YouTube Music prioritization
    providers:
      - "ytmsearch:\"%ISRC%\""
      - "ytsearch:\"%ISRC%\""
      - "ytmsearch:%QUERY%"
      - "ytsearch:%QUERY%"

    # Enable multiple music sources for better track availability
    sources:
      spotify: true
      deezer: false
      applemusic: false
      youtube: true
      jiosaavn: false
      yandexmusic: false

    # Music platform configurations
    spotify:
      clientId: ${SPOTIFY_CLIENT_ID:}
      clientSecret: ${SPOTIFY_CLIENT_SECRET:}
      countryCode: "US"
      resolveArtistsInSearch: true
      playlistLoadLimit: 100
      albumLoadLimit: 100
    
    # YouTube Music specific configuration
    youtube:
      countryCode: "US"
    
  
  lavasearch:
    sources:
      youtube: true
      spotify: true
      deezer: false

  sponsorblock:
    enabled: true
    categories:
      - sponsor
      - selfpromo
      - interaction
      - intro
      - outro
      - preview
      - music_offtopic
      - filler
  
    
logging:
  level:
    root: INFO
    lavalink: DEBUG
